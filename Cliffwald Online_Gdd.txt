Cliffwald Online â€“ Master Game Design Document (GDD) v4.1 (Final Architecture & Design)
Version: 4.1
Engine: Godot 4.5 (Stable)
Architecture: Authoritative Server + Native Multiplayer (ENet + MultiplayerSynchronizer)

1. High Concept
Cliffwald Online redefines the social MMO experience by merging school sim mechanics with the persistence of a massively multiplayer world.
Population: 100 Concurrent Users (CCU) per shard.
Structure: 3 Doctrines (Ignis, Axiom, Vesper) x 4 Years.

2. The Arrival (New)
* Transport: Players arrive at Cliffwald Academy via a massive Steam-Magical Zeppelin.
* Visual: The Zeppelin docks at the highest tower (Axiom) or a dedicated Sky-Pier, offering a panoramic view of the castle layout before setting foot on ground.
* Gameplay Function: Serves as the "Loading Screen" buffer and the initial social hub for new players (The Sortie).

3. Design Pillars & Anti-Legacy Philosophy
* Living Schedule: Time is authoritative. 1 Game Hour = 2 Real Minutes. NPCs obey strict routines (Eat -> Class -> Sleep).
* Meaningful Space: No empty halls.
    * Dorms contain assigned beds (Sleep mechanic).
    * Common Rooms contain Crafting Stations.
    * Great Hall contains Quest Board.
* Landmarking: Asymmetric design (Tower vs Basement vs Garden) + Reference Windows to prevent minimap fatigue.
* Tactile Magic: Gestures ($1 Unistroke) cast spells (Line, Circle, Triangle, Square).

4. Technical Architecture
* Protocol: ENet via UDP.
* Spawning: MultiplayerSpawner automatically replicates nodes.
* Sync: MultiplayerSynchronizer handles Position, Rotation, and Input.
* AI: FSM-based NPCs ("Echoes") driven by a central ScheduleManager.

5. World Layout (Greybox v3.1)
* Hub: Great Hall (30x50m) with windows and 4 house tables.
* Wings:
    * Ignis (The Forge): Basement level, industrial vibe.
    * Axiom (The Tower): High elevation, logic & study.
    * Vesper (The Garden): Ground level, open roof, nature.
* Secret Loop: A narrow maintenance tunnel connects the wings behind the main hall for stealth traversal at night.

6. Magic & Combat
* Projectiles: Kinetic (White/Push), Pyroclasm (Red/Dmg), Stasis (Yellow/Stun).
* Defense: Aegis (Blue/Shield).
* Mechanics: Projectiles have physical collision and destroy on impact.

7. Day/Night Cycle
* Visual: DirectionalLight3D rotates based on server time.
* Gameplay: Gates to Library/Greenhouse lock at 22:00. Only the Secret Loop remains open.


